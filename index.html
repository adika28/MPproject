<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIMikro | Dashboard Interaktif Mikroplastik Indonesia</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        .nav-link.active {
            background-color: #ecfdf5; /* emerald-50 */
            color: #059669; /* emerald-600 */
            font-weight: 600;
        }
        .nav-link.active svg { stroke: #059669; }
        .organ-path-overlay.highlighted {
            fill: rgba(239, 68, 68, 0.4); /* red-500 with opacity */
            transition: fill 0.2s ease-in-out;
        }
        .impact-button.active {
            background-color: #059669; /* emerald-600 */
            color: white;
            border-color: #047857; /* emerald-700 */
        }
        #imageModal.hidden { display: none; }
        .quiz-option {
            transition: background-color 0.2s, border-color 0.2s;
        }
        .quiz-option.correct {
            background-color: #d1fae5; /* green-100 */
            border-color: #10b981; /* green-500 */
        }
        .quiz-option.wrong {
            background-color: #fee2e2; /* red-100 */
            border-color: #ef4444; /* red-500 */
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">
    <div class="relative min-h-screen md:flex">
        <!-- Mobile Header -->
        <div class="md:hidden flex justify-between items-center bg-white p-4 shadow-md sticky top-0 z-20">
            <h1 class="text-xl font-bold text-teal-700">SIMikro</h1>
            <button id="mobile-menu-button">
                <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" /></svg>
            </button>
        </div>

        <!-- Sidebar Navigation -->
        <aside id="sidebar" class="bg-white text-slate-600 w-64 space-y-6 px-2 py-4 absolute inset-y-0 left-0 transform -translate-x-full md:relative md:translate-x-0 transition duration-200 ease-in-out shadow-lg md:shadow-none z-30 md:flex md:flex-col">
            <div class="px-4">
                <h1 class="text-2xl font-bold text-teal-700 hidden md:block">SIMikro</h1>
            </div>
            <nav class="flex-1 px-2 space-y-1">
                <a href="#" onclick="showPage('tentang-simikro')" class="nav-link active flex items-center px-4 py-2.5 text-sm rounded-lg"><svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>Tentang SIMikro</a>
                <a href="#" onclick="showPage('peta')" class="nav-link flex items-center px-4 py-2.5 text-sm rounded-lg"><svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>Peta Persebaran</a>
                <a href="#" onclick="showPage('forecasting')" class="nav-link flex items-center px-4 py-2.5 text-sm rounded-lg"><svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path></svg>Forecasting</a>
                <a href="#" onclick="showPage('kesehatan')" class="nav-link flex items-center px-4 py-2.5 text-sm rounded-lg"><svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path></svg>Dampak Kesehatan</a>
                <a href="#" onclick="showPage('solusi')" class="nav-link flex items-center px-4 py-2.5 text-sm rounded-lg"><svg class="w-5 h-5 mr-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 14c.2-1 .7-1.7 1.5-2.5C17.7 10.2 18 9.2 18 8a6 6 0 0 0-12 0c0 1.2.3 2.2 1.5 3.5.7.8 1.3 1.5 1.5 2.5"/><path d="M9 18h6"/><path d="M10 22h4"/></svg>Solusi & Aksi</a>
                <a href="#" onclick="showPage('riset')" class="nav-link flex items-center px-4 py-2.5 text-sm rounded-lg"><svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path></svg>Riset</a>
                <a href="#" onclick="showPage('kuis')" class="nav-link flex items-center px-4 py-2.5 text-sm rounded-lg"><svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>Kuis Edukasi</a>
                <a href="#" onclick="showPage('glosarium')" class="nav-link flex items-center px-4 py-2.5 text-sm rounded-lg"><svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>Glosarium</a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-4 md:p-8 overflow-y-auto">
            <div id="tentang-simikro" class="content-page"></div>
            <div id="peta" class="content-page hidden"></div>
            <div id="forecasting" class="content-page hidden"></div>
            <div id="kesehatan" class="content-page hidden"></div>
            <div id="solusi" class="content-page hidden"></div>
            <div id="riset" class="content-page hidden"></div>
            <div id="kuis" class="content-page hidden"></div>
            <div id="glosarium" class="content-page hidden"></div>
        </main>
    </div>

    <!-- Image Modal -->
    <div id="imageModal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 hidden">
        <img id="modalImage" src="" alt="Infografis Diperbesar" class="max-w-full max-h-full rounded-lg">
        <button id="closeModal" class="absolute top-4 right-4 text-white text-3xl">&times;</button>
    </div>

    <script>
        // --- CONTENT TEMPLATES ---
        const pages = {
            'tentang-simikro': `
                <div class="bg-white p-6 md:p-8 rounded-xl shadow-lg border border-slate-200">
                    <h2 class="text-2xl md:text-3xl font-bold text-slate-800 mb-6 text-center">SIMikro (Sistem Informasi Mikroplastik)</h2>
                    <div class="grid md:grid-cols-5 gap-8 items-start">
                        <div class="md:col-span-3 text-sm text-slate-600 leading-relaxed">
                            <p class="mb-4"><strong>Judul Infografis:</strong> Mikroplastik: Ancaman Tak Kasat Mata</p>
                            <p><strong>Tema:</strong> Integrasi Gaya Hidup dan Teknologi untuk Menuju Masyarakat Sehat.</p>
                             <p class="mt-4">Dashboard ini bertujuan meningkatkan kesadaran publik mengenai urgensi bahaya mikroplastik melalui visualisasi data yang komprehensif. Kami menyajikan hasil forecasting, peta persebaran, riset relevan, dampak kesehatan, hingga kuis interaktif untuk pemahaman yang menyeluruh.</p>
                             <!-- 
                                TUTORIAL UPLOAD GAMBAR KE GITHUB:
                                1.  Di repository GitHub, klik "Add file" > "Upload files".
                                2.  Seret file 'infografis_final.jpg', 'logo_satriadata.png', dan 'peta_klaster.png' ke area unggah. Pastikan file-file ini berada di folder yang sama dengan file HTML ini.
                                3.  Pastikan nama file di atribut 'src' pada tag <img> di bawah SAMA PERSIS (termasuk huruf besar/kecil) dengan nama file yang diunggah.
                                4.  Klik "Commit changes" dan tunggu 1-2 menit hingga website diperbarui.
                             -->
                        </div>
                        <div class="md:col-span-2 space-y-4">
                             <div class="bg-slate-50 p-4 rounded-lg border border-slate-200 text-center">
                                 <h3 class="font-bold text-slate-700 mb-4">Tim Penyusun</h3>
                                 <div class="space-y-2 text-sm">
                                     <p class="font-semibold">Agatha Kristania Prineysa</p>
                                     <p class="font-semibold">Yudit Ginsa Kurnia Putri</p>
                                     <p class="font-semibold">Rizqi Adika Permana</p>
                                     <hr class="w-2/3 my-2 border-slate-300 mx-auto">
                                     <p class="text-sm font-semibold text-teal-700">Universitas Diponegoro</p>
                                 </div>
                             </div>
                             <div class="bg-slate-50 p-4 rounded-lg border border-slate-200 text-center space-y-4">
                                <img src="logo_satriadata.png" alt="Logo Satria Data 2025" class="h-20 mx-auto clickable-image" onerror="this.src='https://placehold.co/300x100?text=Logo+Satria+Data'">
                                <img id="infografis-preview" src="infografis_final.jpg" alt="Preview Infografis" class="w-full rounded-md border-2 border-slate-300 cursor-pointer hover:opacity-80 clickable-image" onerror="this.src='https://placehold.co/400x250?text=Preview+Infografis'">
                             </div>
                        </div>
                    </div>
                </div>`,
            'peta': `
                <h2 class="text-2xl md:text-3xl font-bold text-slate-800 mb-2">Peta Klaster Risiko Mikroplastik</h2>
                <p class="text-slate-500 mb-6 text-sm md:text-base">Peta persebaran ini mengkategorikan setiap provinsi di Indonesia ke dalam tiga klaster risiko mikroplastik: rendah, sedang, dan tinggi. Pengklasteran ini didasarkan pada analisis dengan Metode Hierarchical Agglomerative Clustering.</p>
                <div class="bg-white p-4 md:p-6 rounded-xl shadow-lg border border-slate-200">
                    <div class="flex flex-col lg:flex-row gap-6">
                        <div class="w-full lg:w-2/3">
                             <img src="peta_klaster.png" alt="Peta Klaster Risiko Mikroplastik" class="w-full h-auto rounded-lg bg-slate-100 clickable-image" onerror="this.src='https://placehold.co/800x600/e2e8f0/334155?text=Peta+Klaster+Indonesia'">
                        </div>
                        <div class="w-full lg:w-1/3">
                            <h3 class="font-semibold text-lg mb-4">Legenda</h3>
                            <div class="space-y-3 mb-6">
                                <div class="flex items-center"><div class="w-5 h-5 rounded-full bg-red-500 mr-3 shrink-0"></div><span class="text-sm">Klaster C: Risiko Tinggi (13 Provinsi)</span></div>
                                <div class="flex items-center"><div class="w-5 h-5 rounded-full bg-yellow-400 mr-3 shrink-0"></div><span class="text-sm">Klaster B: Risiko Sedang (21 Provinsi)</span></div>
                                <div class="flex items-center"><div class="w-5 h-5 rounded-full bg-green-500 mr-3 shrink-0"></div><span class="text-sm">Klaster A: Risiko Rendah (4 Provinsi)</span></div>
                            </div>
                        </div>
                    </div>
                </div>`,
            'forecasting': `
                <h2 class="text-2xl md:text-3xl font-bold text-slate-800 mb-2">Proyeksi Timbulan Sampah Plastik</h2>
                <p class="text-slate-500 mb-6 text-sm md:text-base">Grafik menampilkan data aktual timbulan sampah plastik nasional dari 2019-2023, serta hasil prediksi untuk 2024-2028 menggunakan metode Exponential Smoothing (MAPE: 7,68%).</p>
                <div class="bg-white p-4 md:p-6 rounded-xl shadow-lg border border-slate-200">
                    <div class="h-80 md:h-96"><canvas id="forecastingChart"></canvas></div>
                </div>`,
            'kesehatan': `
                 <h2 class="text-2xl md:text-3xl font-bold text-slate-800 mb-2">Anatomi Dampak Mikroplastik</h2>
                <p class="text-slate-500 mb-8">Pilih kategori untuk melihat potensi risiko pada organ dan sistem tubuh terkait.</p>
                <div class="bg-white p-6 rounded-xl shadow-lg border border-slate-200">
                    <div class="flex flex-col md:flex-row gap-8 items-center">
                        <div class="w-full md:w-2/5">
                            <svg id="human-anatomy" viewBox="0 0 200 400" xmlns="http://www.w3.org/2000/svg" class="w-full h-auto max-w-xs mx-auto">
                                <path fill="#e2e8f0" d="M100 10a20 20 0 110 40 20 20 0 010-40zm-20 50h40v20a40 40 0 01-40 0v-20zm-10 40h60l10 120h-80l10-120zm-5 130h70v80h-70v-80zm10 90h50v50h-50v-50z"/>
                                <path class="organ-path-overlay" data-impact="saraf" d="M80 10 h40 v40 h-40 z" fill="transparent" cursor="pointer"/>
                                <path class="organ-path-overlay" data-impact="pernapasan" d="M70 100h60v50h-60z" fill="transparent" cursor="pointer"/>
                                <path class="organ-path-overlay" data-impact="kardiovaskular" d="M85 110h30v30h-30z" fill="transparent" cursor="pointer"/>
                                <path class="organ-path-overlay" data-impact="metabolisme" d="M65 220h70v80h-70z" fill="transparent" cursor="pointer"/>
                                <path class="organ-path-overlay" data-impact="reproduksi" d="M75 310h50v50h-50z" fill="transparent" cursor="pointer"/>
                            </svg>
                        </div>
                        <div class="w-full md:w-3/5">
                            <div id="impact-buttons" class="flex flex-wrap gap-2 mb-4">
                                <button class="impact-button text-sm px-3 py-1.5 border rounded-full" data-target="saraf">Penyakit Saraf</button>
                                <button class="impact-button text-sm px-3 py-1.5 border rounded-full" data-target="pernapasan">Pernapasan</button>
                                <button class="impact-button text-sm px-3 py-1.5 border rounded-full" data-target="kardiovaskular">Kardiovaskular</button>
                                <button class="impact-button text-sm px-3 py-1.5 border rounded-full" data-target="metabolisme">Metabolisme</button>
                                <button class="impact-button text-sm px-3 py-1.5 border rounded-full" data-target="reproduksi">Sistem Reproduksi</button>
                            </div>
                            <div id="impact-info" class="p-4 bg-slate-50 rounded-lg min-h-[200px]">
                                 <h4 id="impact-title" class="font-bold text-lg text-slate-800 mb-2">Pilih Kategori</h4>
                                 <p id="impact-description" class="text-sm text-slate-600 leading-relaxed">Klik salah satu tombol di atas untuk menampilkan informasi detail.</p>
                            </div>
                        </div>
                    </div>
                </div>`,
            'solusi': `
                <h2 class="text-2xl md:text-3xl font-bold text-slate-800 mb-8">Panduan Solusi & Aksi</h2>
                <div class="space-y-10">
                    <div>
                        <div class="text-center mb-4">
                            <h3 class="text-2xl font-bold text-teal-700">Solusi Pencegahan (Di Hulu)</h3>
                            <p class="text-slate-600 max-w-2xl mx-auto text-sm">Mencegah sampah plastik dari sumbernya adalah langkah paling efektif.</p>
                        </div>
                        <div class="grid md:grid-cols-3 gap-6">
                            <div class="bg-white p-6 rounded-xl shadow text-center border-t-4 border-teal-500">
                                <h4 class="font-bold mb-2">Gunakan Botol Minum Isi Ulang</h4>
                                <p class="text-sm text-slate-600">Hindari ribuan partikel mikroplastik dari botol sekali pakai.</p>
                            </div>
                            <div class="bg-white p-6 rounded-xl shadow text-center border-t-4 border-teal-500">
                                <h4 class="font-bold mb-2">Bawa Tas Belanja Kain</h4>
                                <p class="text-sm text-slate-600">Gantikan ratusan kantong plastik yang berpotensi mencemari.</p>
                            </div>
                            <div class="bg-white p-6 rounded-xl shadow text-center border-t-4 border-teal-500">
                                <h4 class="font-bold mb-2">Pilih Pakaian Serat Alami</h4>
                                <p class="text-sm text-slate-600">Kurangi serat mikroplastik saat mencuci dengan memilih katun atau linen.</p>
                            </div>
                        </div>
                    </div>
                    <div>
                         <div class="text-center mb-4">
                            <h3 class="text-2xl font-bold text-orange-600">Aksi Penanganan (Di Hilir)</h3>
                            <p class="text-slate-600 max-w-2xl mx-auto text-sm">Mengelola sampah yang sudah ada untuk mencegahnya terurai menjadi mikroplastik.</p>
                        </div>
                        <div class="grid md:grid-cols-3 gap-6">
                            <div class="bg-white p-6 rounded-xl shadow text-center border-t-4 border-orange-500">
                                <h4 class="font-bold mb-2">Pilah Sampah dari Rumah</h4>
                                <p class="text-sm text-slate-600">Tingkatkan laju daur ulang dan cegah kebocoran ke lingkungan.</p>
                            </div>
                             <div class="bg-white p-6 rounded-xl shadow text-center border-t-4 border-orange-500">
                                <h4 class="font-bold mb-2">Dukung Gerakan Pungut Sampah</h4>
                                <p class="text-sm text-slate-600">Kurangi jumlah plastik di alam secara langsung.</p>
                            </div>
                            <div class="bg-white p-6 rounded-xl shadow text-center border-t-4 border-orange-500">
                                <h4 class="font-bold mb-2">Edukasi Lingkungan Sekitar</h4>
                                <p class="text-sm text-slate-600">Bagikan informasi dari dashboard ini untuk kesadaran kolektif.</p>
                            </div>
                        </div>
                    </div>
                </div>`,
            'riset': `
                <h2 class="text-2xl md:text-3xl font-bold text-slate-800 mb-2">Riset dan Berita Terkini</h2>
                <p class="text-slate-500 mb-6 text-sm md:text-base">Kumpulan temuan ilmiah dan artikel pilihan seputar mikroplastik.</p>
                <div class="bg-white p-4 md:p-6 rounded-xl shadow-lg border border-slate-200">
                     <div class="overflow-x-auto">
                        <table class="w-full text-sm text-left">
                           <thead class="text-xs text-slate-700 uppercase bg-slate-50"><tr><th class="px-6 py-3">Judul</th><th class="px-6 py-3">Sumber</th><th class="px-6 py-3">Temuan Utama</th></tr></thead>
                           <tbody>
                                <tr class="border-b"><td class="px-6 py-4 font-semibold">Microplastics in human plaques...</td><td class="px-6 py-4">NCBI / NEJM (2024)</td><td class="px-6 py-4">Risiko serangan jantung, stroke, atau kematian 3x lebih tinggi.</td></tr>
                                <tr><td class="px-6 py-4 font-semibold">No Small Matter: Human Consumption of Microplastics</td><td class="px-6 py-4">Cornell University (2024)</td><td class="px-6 py-4">Rata-rata orang mengonsumsi 15 gram mikroplastik per bulan.</td></tr>
                           </tbody>
                        </table>
                    </div>
                </div>`,
            'kuis': `
                <h2 class="text-2xl md:text-3xl font-bold text-slate-800 mb-2">Kuis Cerdas SIMikro</h2>
                <p class="text-slate-500 mb-6 text-sm md:text-base">Uji pengetahuanmu dengan menjawab 3 pertanyaan acak!</p>
                <div class="bg-white p-4 md:p-6 rounded-xl shadow-lg border border-slate-200">
                     <div id="quiz-container" class="max-w-xl mx-auto text-center"></div>
                </div>`,
            'glosarium': `
                <h2 class="text-2xl md:text-3xl font-bold text-slate-800 mb-2">Glosarium</h2>
                <p class="text-slate-500 mb-6 text-sm md:text-base">Penjelasan istilah-istilah kunci yang digunakan dalam dashboard.</p>
                <div class="space-y-4 text-sm">
                    <div class="bg-white p-4 rounded-lg border"><strong>Mikroplastik:</strong> Partikel plastik berukuran kurang dari 5 milimeter.</div>
                    <div class="bg-white p-4 rounded-lg border"><strong>Hierarchical Agglomerative Clustering:</strong> Metode statistik untuk mengelompokkan objek ke dalam klaster berdasarkan kedekatan.</div>
                    <div class="bg-white p-4 rounded-lg border"><strong>Exponential Smoothing:</strong> Metode peramalan (forecasting) untuk data time series yang memberi bobot lebih pada data baru.</div>
                    <div class="bg-white p-4 rounded-lg border"><strong>MAPE:</strong> Singkatan dari Mean Absolute Percentage Error, metrik untuk mengukur akurasi prediksi.</div>
                </div>`
        };

        // --- GLOBAL STATE ---
        let forecastingChartInstance = null;

        // --- CORE FUNCTIONS ---
        function renderPage(pageId) {
            const container = document.getElementById(pageId);
            if (container) container.innerHTML = pages[pageId];
        }
        
        const navLinks = document.querySelectorAll('.nav-link');
        const sidebar = document.getElementById('sidebar');
        const mobileMenuButton = document.getElementById('mobile-menu-button');

        function showPage(pageId) {
            Object.keys(pages).forEach(id => document.getElementById(id).classList.add('hidden'));
            document.getElementById(pageId).classList.remove('hidden');
            
            navLinks.forEach(link => {
                link.classList.toggle('active', link.getAttribute('onclick').includes(pageId));
            });

            if (window.innerWidth < 768) {
                sidebar.classList.add('-translate-x-full');
            }
            
            if(pageId === 'tentang-simikro' || pageId === 'peta') initModal();
            if(pageId === 'forecasting') initForecastingChart();
            if(pageId === 'kesehatan') initHealthImpact();
            if(pageId === 'kuis') initQuiz();
        }

        mobileMenuButton.addEventListener('click', () => {
            sidebar.classList.toggle('-translate-x-full');
        });
        
        function initModal() {
            const modal = document.getElementById('imageModal');
            const closeModal = document.getElementById('closeModal');
            if(!modal || !closeModal) return;

            const modalImg = document.getElementById('modalImage');
            
            document.querySelectorAll('.clickable-image').forEach(img => {
                img.addEventListener('click', function() {
                    modal.classList.remove('hidden');
                    modalImg.src = this.src;
                });
            });

            closeModal.onclick = () => modal.classList.add('hidden');
            modal.onclick = (event) => {
                if (event.target == modal) modal.classList.add('hidden');
            }
        }

        // --- PAGE SPECIFIC INITIALIZATIONS ---
        function initForecastingChart() {
            const ctx = document.getElementById('forecastingChart')?.getContext('2d');
            if(!ctx) return;
            if (forecastingChartInstance) forecastingChartInstance.destroy();

            const labels = ['2019', '2020', '2021', '2022', '2023', '2024', '2025', '2026', '2027', '2028'];
            const actualData = [3.42, 3.38, 3.73, 5.06, 5.83, null, null, null, null, null];
            const predictedData = [null, null, null, null, 5.83, 6.67, 7.50, 8.34, 9.18, 10.01];

            forecastingChartInstance = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [
                        {
                            label: 'Data Aktual (Juta Ton)',
                            data: actualData,
                            borderColor: 'rgb(59, 130, 246)',
                            backgroundColor: 'rgba(59, 130, 246, 0.5)',
                            tension: 0.1
                        },
                        {
                            label: 'Data Prediksi (Juta Ton)',
                            data: predictedData,
                            borderColor: 'rgb(239, 68, 68)',
                            backgroundColor: 'rgba(239, 68, 68, 0.5)',
                            borderDash: [5, 5],
                            tension: 0.1
                        }
                    ]
                },
                options: { responsive: true, maintainAspectRatio: false }
            });
        }

        function initHealthImpact() {
            const impactData = {
                saraf: { title: "Penyakit Saraf", description: "Partikel nano-plastik yang sangat kecil telah terbukti mampu menembus sawar darah-otak, berpotensi menyebabkan peradangan saraf (neuroinflammation) dan gangguan neurologis jangka panjang." },
                pernapasan: { title: "Penyakit Pernapasan", description: "Partikel mikroplastik di udara dapat terhirup dan mengendap di jaringan paru-paru, memicu iritasi, peradangan, stres oksidatif, dan berpotensi memperburuk kondisi seperti asma." },
                kardiovaskular: { title: "Penyakit Kardiovaskular", description: "Studi (NCBI, 2024) menunjukkan pasien dengan mikroplastik di plak arteri memiliki risiko 3x lipat lebih tinggi mengalami serangan jantung atau stroke." },
                metabolisme: { title: "Penyakit Metabolisme", description: "Akumulasi mikroplastik di organ pencernaan seperti usus dan hati dapat mengganggu metabolisme, mengubah mikrobioma usus, dan menyebabkan peradangan kronis." },
                reproduksi: { title: "Gangguan Sistem Reproduksi", description: "Bahan kimia dari plastik seperti BPA dapat bertindak sebagai pengganggu hormon (endokrin), berpotensi mempengaruhi kesuburan dan perkembangan." }
            };
            
            const impactButtons = document.querySelectorAll('.impact-button');
            const organPaths = document.querySelectorAll('.organ-path-overlay');
            const titleEl = document.getElementById('impact-title');
            const descEl = document.getElementById('impact-description');

            function updateInfo(impactType) {
                if(!impactData[impactType]) return;
                titleEl.textContent = impactData[impactType].title;
                descEl.textContent = impactData[impactType].description;
                impactButtons.forEach(btn => btn.classList.toggle('active', btn.dataset.target === impactType));
                organPaths.forEach(path => path.classList.toggle('highlighted', path.dataset.impact === impactType));
            }

            impactButtons.forEach(button => button.addEventListener('click', () => updateInfo(button.dataset.target)));
            organPaths.forEach(path => path.addEventListener('click', () => updateInfo(path.dataset.impact)));
        }

        function initQuiz() {
            const quizContainer = document.getElementById('quiz-container');
            if(!quizContainer) return;
            const quizBank = [
                { q: "Menurut riset NCBI (2024), berapa peningkatan risiko penyakit kardiovaskular?", options: ["2x lipat", "3x lipat", "5x lipat"], answer: "3x lipat" },
                { q: "Prediksi timbulan sampah plastik 2028 adalah...", options: ["Sekitar 9 juta ton", "Lebih dari 10 juta ton", "Kurang dari 8 juta ton"], answer: "Lebih dari 10 juta ton" },
                { q: "Yang BUKAN merupakan solusi pencegahan di hulu?", options: ["Memilah sampah", "Membawa tas belanja", "Memilih pakaian serat alami"], answer: "Memilah sampah" },
                { q: "Metode klasterisasi pada peta adalah...", options: ["K-Means", "Hierarchical Agglomerative Clustering", "DBSCAN"], answer: "Hierarchical Agglomerative Clustering" },
                { q: "Konsumsi plastik per bulan menurut Cornell University (2024) setara...", options: ["1 sendok teh", "3 sendok teh", "1 sendok makan"], answer: "3 sendok teh" }
            ];
            
            let currentQuestions = [];
            let currentQuestionIndex = 0;
            let score = 0;

            function shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) { const j = Math.floor(Math.random() * (i + 1)); [array[i], array[j]] = [array[j], array[i]]; }
            }

            function displayQuestion() {
                const qData = currentQuestions[currentQuestionIndex];
                let optionsHTML = '';
                shuffleArray(qData.options);
                qData.options.forEach(opt => { optionsHTML += `<button class="quiz-option p-3 bg-slate-100 rounded-lg border border-slate-300 hover:bg-slate-200">${opt}</button>`; });
                quizContainer.innerHTML = `<p class="text-sm text-slate-500">Soal ${currentQuestionIndex + 1} dari 3</p><div class="my-4 p-6 bg-slate-50 rounded-lg"><p class="text-lg font-semibold">${qData.q}</p></div><div class="grid grid-cols-1 gap-4">${optionsHTML}</div><p id="quiz-feedback" class="mt-4 h-6 text-sm font-semibold"></p>`;
                document.querySelectorAll('.quiz-option').forEach(btn => btn.addEventListener('click', (e) => selectAnswer(e.target, qData.answer)));
            }

            function selectAnswer(btn, correctAns) {
                 document.querySelectorAll('.quiz-option').forEach(b => b.disabled = true);
                 const feedback = document.getElementById('quiz-feedback');
                 if (btn.textContent === correctAns) {
                     score++;
                     btn.classList.add('correct');
                     feedback.textContent = "Benar!";
                     feedback.className = "mt-4 h-6 text-sm font-semibold text-green-600";
                 } else {
                     btn.classList.add('wrong');
                     feedback.textContent = `Jawaban benar: ${correctAns}`;
                     feedback.className = "mt-4 h-6 text-sm font-semibold text-red-600";
                 }
                 setTimeout(() => {
                     currentQuestionIndex++;
                     if (currentQuestionIndex < 3) displayQuestion(); else showFinalScore();
                 }, 1500);
            }

            function showFinalScore() {
                quizContainer.innerHTML = `<h3 class="text-xl font-bold mb-4">Kuis Selesai!</h3><p class="mb-6 text-slate-600 text-lg">Skor Akhir Anda: <span class="font-bold text-teal-600 text-2xl">${score}</span> dari 3</p><button id="restart-quiz-btn" class="bg-teal-600 hover:bg-teal-700 text-white font-bold py-3 px-6 rounded-lg transition-colors">Coba Lagi</button>`;
                document.getElementById('restart-quiz-btn').addEventListener('click', startQuiz);
            }

            function startQuiz() {
                shuffleArray(quizBank);
                currentQuestions = quizBank.slice(0, 3);
                currentQuestionIndex = 0; score = 0;
                displayQuestion();
            }
            
            quizContainer.innerHTML = `<h3 class="text-xl font-bold mb-4">Selamat Datang di Kuis Cerdas!</h3><p class="mb-6 text-slate-600">Jawab 3 pertanyaan acak seputar data mikroplastik.</p><button id="start-quiz-btn" class="bg-teal-600 hover:bg-teal-700 text-white font-bold py-3 px-6 rounded-lg">Mulai Kuis</button>`;
            document.getElementById('start-quiz-btn').addEventListener('click', startQuiz);
        }

        // --- INITIAL PAGE LOAD ---
        document.addEventListener('DOMContentLoaded', () => {
             Object.keys(pages).forEach(pageId => renderPage(pageId));
             showPage('tentang-simikro');
        });
    </script>
</body>
</html>
